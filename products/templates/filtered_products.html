{% extends 'base.html' %}

{% load bootstrap_tags %}

{% block page_title %} | Products{% endblock %}

{% block content %}

<div class="row row-flex mx-3">

    <div class="container-fluid mx-auto">




<!-- ez jott a sima products-bol APR 25: -->

            <!-- <div class="filter-dropdown col-12 col-sm-6 col-md-3"> -->
                <!-- SORTING -->
                <!-- <form class="input-group mb-3" > THIS IS THE SAME URL PATTERN FOR EVERY DROPDOWN -->
                
                    <!-- <select class="sort-select" id="sortSelect" onselect="this.parentNode.submit()">
                        <option selected disabled>Choose...</option>
                        <option value="date_uploaded">Most Recent</option>
                        <option value="num_of_views">Most Viewed</option>
                        <option value="num_of_orders">Most Purchased</option>
                        <option value="rateing">Highest Rated</option>
                    </select>

                </form>
            </div> -->

            <!-- <div class="filter-dropdown col-12 col-sm-6 col-md-3" style="border: 1px solid red; height:100px;"> -->
                <!-- SELECTING FILTER_GROUP -->
                <!-- <form class="input-group mb-3" > THIS IS THE SAME URL PATTERN FOR EVERY DROPDOWN -->
                        <!-- action=" url 'filtered_products' data.filter_by item " -->
                <!-- </form> -->
            <!-- </div> -->

            <!-- <div class="filter-dropdown col-12 col-sm-6 col-md-3" style="border: 1px solid red; height:100px;"> -->
                <!-- SELECTING FILTER_NAME -->
                <!-- <form class="input-group mb-3" > THIS IS THE SAME URL PATTERN FOR EVERY DROPDOWN -->
                
                <!-- </form> -->
            <!-- </div> -->
            







        <section class="row filtering-row my-3">
            <div class="filter-dropdown col-12 col-sm-6 col-md-3">
                <form class="input-group mb-3" action="{% url 'sort' %}">
                
                    <select class="sort-select" id="sortSelect" onselect="this.parentNode.submit()">
                        <option selected disabled>Choose...</option>
                        <option value="date_uploaded">Most Recent</option>
                        <option value="num_of_views">Most Viewed</option>
                        <option value="num_of_orders">Most Purchased</option>
                        <option value="rateing">Highest Rated</option>
                    </select>
                
                
                
                    <!-- <div class="dropdown">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="dropdownSortButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Dropdown button
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownSortButton">
                            <a class="dropdown-item" onselect="this.parentNode.submit()" href="#">Most Viewed</a>
                            <a class="dropdown-item" href="#">Highest Rated</a>
                            <a class="dropdown-item" href="#">Most Recent</a>
                            <a class="dropdown-item" onselect="this.parentNode.submit()" href="#">Most Purchased</a>
                        </div>
                    </div> -->
                </form>
            </div>
            <div class="filter-dropdown col-12 col-sm-6 col-md-3" style="border: 1px solid red; height:100px;">
            </div>
            <div class="filter-dropdown col-12 col-sm-6 col-md-3" style="border: 1px solid red; height:100px;">
            </div>
            <div class="filter-dropdown col-12 col-sm-6 col-md-3" style="border: 1px solid red; height:100px;">
            </div>
        </section>

        <section class="row image-display" style="border: 1px solid blue;">
            <div class="image-display-container mx-2">
                {% for product in context.products %}
                <div class="products-image-box mb-3">
                    <a href="{% url 'product_details' product.id %}">
                        <img src="{{ MEDIA_URL }}{{ product.image }}" alt="{{product.title}} image" class="products-image">
                    </a>
                    <div class="overlay overlay-title">
                        <p class="overlay-icon">
                            <span class="overlay-title-text">{{ product.title }}</span>
                        </p>
                    </div>
                    <div class="overlay overlay-rate">
                        <a href="{% url 'rate_artwork' product.id %}" class="overlay-icon" title="Rate Artwork">
                            <i class="far fa-thumbs-up"></i>
                        </a>
                    </div>
                    <div class="overlay overlay-cart">
                        <form method="post" class="overlay-icon" title="Add To Shopping Cart" action="{% url 'add_to_cart' product.id %}">
                        {% csrf_token %}
                            <input type="hidden" name="name" value="value" /> 
                            <a onclick="this.parentNode.submit();">
                                <i class="fas fa-cart-plus"></i>
                            </a>
                        </form>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </div>

</div>

{% endblock %}